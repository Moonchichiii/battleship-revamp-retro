{% if not request.headers.get("HX-Request") %} 
{% extends "base.html" %} 
{% endif %} 

{% block title %}Tactical Simulation (AI) — Battleship{% endblock %} 

{% block content %}
<section class="panel is-active">
    <div class="site-header">
        <h2>Tactical Simulation</h2>
        <div class="subtitle">Select Adversary Intelligence Level</div>
    </div>

    <div class="game-controls" style="margin-top: 2rem">
        <div class="actions" style="justify-content: center; gap: 1rem; flex-wrap: wrap;">
            <!-- Cadet -->
            <button
                class="btn"
                hx-post="/ai/start"
                hx-vals='{"tier": "rookie"}'
                hx-target="#main"
                hx-swap="innerHTML"
                hx-push-url="true"
            >
                <span style="display: block; font-size: 1.5rem; margin-bottom: 0.5rem;">❖</span>
                ROOKIE
                <div class="hint" style="margin-top: 0.5rem">Randomized</div>
            </button>

            <!-- Commander -->
            <button
                class="btn"
                hx-post="/ai/start"
                hx-vals='{"tier": "veteran"}'
                hx-target="#main"
                hx-swap="innerHTML"
                hx-push-url="true"
            >
                <span style="display: block; font-size: 1.5rem; margin-bottom: 0.5rem;">❖❖</span>
                VETERAN
                <div class="hint" style="margin-top: 0.5rem">Hunting Logic</div>
            </button>

            <!-- Admiral -->
            <button
                class="btn"
                hx-post="/ai/start"
                hx-vals='{"tier": "admiral"}'
                hx-target="#main"
                hx-swap="innerHTML"
                hx-push-url="true"
            >
                <span style="display: block; font-size: 1.5rem; margin-bottom: 0.5rem;">❖❖❖</span>
                ADMIRAL
                <div class="hint" style="margin-top: 0.5rem">Probability Math</div>
            </button>

            <!-- PSY-OPS (LLM) -->
            <button
                class="btn"
                style="border-color: var(--phosphor-alert); color: var(--phosphor-alert); box-shadow: 0 0 5px var(--phosphor-alert);"
                hx-post="/ai/start"
                hx-vals='{"tier": "psy-ops"}'
                hx-target="#main"
                hx-swap="innerHTML"
                hx-push-url="true"
                hx-indicator="#ai-loader"
            >
                <span style="display: block; font-size: 1.5rem; margin-bottom: 0.5rem;">☠</span>
                PSY-OPS
                <div class="hint" style="margin-top: 0.5rem; color: var(--phosphor-alert);">GPT-4 Powered</div>
            </button>
        </div>

        <!-- Loader for LLM Latency -->
        <div id="ai-loader" class="htmx-indicator" style="text-align:center; margin-top:2rem;">
            <div class="blink" style="color: var(--phosphor-alert); letter-spacing: 2px;">
                >> ESTABLISHING UPLINK WITH AI CORE...
            </div>
        </div>
    </div>
</section>
{% endblock %}
