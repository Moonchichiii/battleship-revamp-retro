{% if not request.headers.get("HX-Request") %}{% extends "base.html" %}{% endif
%} {% block content %}
<div class="dashboard-grid">
    <!-- Header Area (for Grid only, not the site header) -->
    <div class="game-header">
        <h2>Tactical Interface</h2>
    </div>

    <!-- Status Area – stays ABOVE board on mobile -->
    <section class="game-status">
        <h3>Mission Log</h3>
        <div id="status" class="status-log">
            {{ status_message | default("Awaiting orders. Select coordinates to
            fire.") }}
        </div>
        <div class="game-stats">
            <span>Shots: <span id="shots-count">0</span></span>
            <span>Hits: <span id="hits-count">0</span></span>
        </div>
    </section>

    <!-- Board Area -->
    <section class="board-wrap">
        {% include "_board.html" %}

        <div class="game-legend">
            <div class="legend-item">
                <span class="cell hit" style="width: 20px; height: 20px"
                    >×</span
                >
                Hit
            </div>
            <div class="legend-item">
                <span class="cell miss" style="width: 20px; height: 20px"
                    >•</span
                >
                Miss
            </div>
        </div>
    </section>

    <!-- Controls Area -->
    <section class="game-controls">
        <h3>System Controls</h3>

        <p class="small-label">
            Grid Resolution: <strong>8x8 (Standard)</strong>
        </p>

        <div class="actions">
            <button class="btn" hx-post="/new" hx-target="#boardSection">
                Initialize New Game
            </button>

            <button class="btn" hx-post="/reset" hx-target="#boardSection">
                Reset Coords
            </button>
        </div>
    </section>
</div>
{% endblock %}
